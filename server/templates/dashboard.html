<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <!-- Add some basic styling for better clarity -->
    <style>
        ul {
            list-style-type: none;
            padding: 0;
        }

        li {
            border: 1px solid #ddd;
            margin-top: -1px;
            background-color: #f6f6f6;
            padding: 12px;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>Welcome back, {{ username }}!</h1>

    <h2>Your Blog Posts:</h2>
    {% if blogposts %}
        <ul>
            {% for post in blogposts %}
            <li>
                <h3>{{ post.title }}</h3>
                <p>{{ post.content }}</p>
                <!-- Links to edit and delete blog posts -->
                <a href="{{ url_for('routes.modify_blogpost', blogpost_id=post.id) }}">Edit</a> |
                <a href="{{ url_for('routes.delete_blogpost', blogpost_id=post.id) }}">Delete</a>
                
                <!-- List reviews for each blog post -->
                <h4>Reviews:</h4>
                {% if post.reviews %}
                    <ul>
                        {% for review in post.reviews %}
                            <li>
                                {{ review.content }}
                                <!-- Links to edit and delete reviews -->
                                <a href="{{ url_for('routes.modify_review', review_id=review.id) }}">Edit Review</a> |
                                <a href="{{ url_for('routes.delete_review', review_id=review.id) }}">Delete Review</a>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>No reviews for this post yet.</p>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>You have no blog posts. Create one now!</p>
    {% endif %}

    <!-- Link to create a new blog post -->
    <a href="{{ url_for('routes.create_blogpost') }}">Create New Blog Post</a>
    <!-- Link to create a new review -->
    <a href="{{ url_for('routes.create_review') }}">Write a Review</a>

</body>
</html>
